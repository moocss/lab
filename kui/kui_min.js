/* kui - v0.1.0 - 2013-07-16 */
var kui={version:1};kui.desktopMode=function(){if(window.navigator.standalone){var e=!1;document.addEventListener("click",function(t){for(var n=t.target;"A"!==n.nodeName&&"HTML"!==n.nodeName;)n=n.parentNode;"href"in n&&-1!==n.href.indexOf("http")&&(-1!==n.href.indexOf(document.location.host)||e)&&(t.preventDefault(),document.location.href=n.href)},!1)}},kui.gotoTop=function(e){if(!e)var e=200;(-90!=window.orientation&&90!=window.orientation||!$.os.android)&&setTimeout(scrollTo,e,0,0)},kui.hover=function(e,t){e&&(e.bind("touchstart",function(){$(this).addClass(t)}),e.bind("touchend",function(){$(this).removeClass(t)}))},kui.localStorage={has:function(e){return localStorage.getItem(e)?!0:!1},set:function(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(n){}},get:function(e){return JSON.parse(localStorage.getItem(e))},remove:function(e){localStorage.removeItem(e)},clear:function(){localStorage.clear()}},kui.orientationchange=function(e){window.addEventListener("onorientationchange"in window?"orientationchange":"resize",function(){setTimeout(function(){window.scrollTo(0,0),e.call(this,arguments)},$.os.android?1e3:500)},!1)},kui.setTitle=function(e){setTimeout(function(){var t=!$.os.version.indexOf("4.2");$.os.ios&&t||$("title").html(e)},100)},kui.share=function(e,t,n,o){if(!o)var o=encodeURIComponent(location.href);if(t=encodeURIComponent(t),n)var n=encodeURIComponent(n);else var n="";var i;switch(e){case"sina":i="http://service.weibo.com/share/share.php?url="+o+"&title="+t+"&pic="+n;break;case"qq":i="http://share.v.t.qq.com/index.php?c=share&a=index&f=q2&url="+o+"&title="+t+"&pic="+n;break;case"qzone":i="http://sns.z.qq.com/share?url="+o+"&web_url="+o+"&title="+t+"&pic_url="+n+"&g_ut=2";break;case"rr":i="http://widget.renren.com/dialog/share?resourceUrl="+o+"&pic="+n+"&description="+t+"&srcUrl="+o}window.open(i)},kui.transition=function(e,t,n){if(e[0]==t[0])return e.hide(),t.show(),void 0;var o=350;if(!app.has_transition()||0===n)return t.show(),e.hide(),void 0;var i=$(window).width();e.css({"-webkit-transform":"none"}),t.css({"-webkit-transform":"translate3d("+(1===n?"-":"")+i+"px,0,0)",display:"block"}),setTimeout(function(){e.css({"-webkit-transform":"translate3d("+(1===n?"":"-")+i+"px,0,0)","-webkit-transition":o+"ms"}),t.css({"-webkit-transform":"none","-webkit-transition":o+"ms"}),setTimeout(function(){e.css({display:"none"}),t.css({display:"block"})},o+50)},0)};